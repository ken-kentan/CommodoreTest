plugins {
    id 'java'
    id "com.github.johnrengelman.shadow" version "4.0.4"
}

group 'jp.kentan.example.commodore_test'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

repositories {
    mavenCentral()

    maven {
        name = "Spigot"
        url "https://hub.spigotmc.org/nexus/content/groups/public"
    }

    maven {
        name = "minecraft-repo"
        url "https://libraries.minecraft.net/"
    }
}

dependencies {
    compile "me.lucko:commodore:1.3"
    compileOnly 'org.spigotmc:spigot-api:1.13-R0.1-SNAPSHOT'
}

build.dependsOn(shadowJar)

jar {
    from configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
}

shadowJar {
    relocate 'me.lucko.commodore', 'jp.kentan.example.commodore_test.commodore'
}

artifacts {
    archives shadowJar
}